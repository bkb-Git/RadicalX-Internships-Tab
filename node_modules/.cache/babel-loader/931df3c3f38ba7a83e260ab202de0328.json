{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as _ from 'lodash';\nimport * as EventUtils from '../utils/EventUtils';\nimport * as setCustomFormatter from './setCustomFormatter';\nfunction setRotatePolarAxis(chart, axisItem, coord, data) {\n  var polarLabel = _.get(axisItem, 'polarLabel');\n  var rotate = _.get(axisItem, 'polarLabel.rotate');\n  if (!rotate) {\n    return;\n  }\n  var tickStyle = {};\n  if (rotate === 'parallel') {\n    tickStyle = {\n      rotate: coord.startAngle,\n      textAlign: 'center'\n    };\n  } else if (rotate === 'normal') {\n    tickStyle = {\n      rotate: coord.startAngle + 90,\n      textAlign: 'right'\n    };\n  }\n  var offsetX = _.get(axisItem, 'polarLabel.offsetX');\n  var offsetY = _.get(axisItem, 'polarLabel.offsetY');\n  data.forEach(function (res, i) {\n    chart.guide().text(__assign({\n      position: [i, 0],\n      content: data[i][axisItem.dataKey],\n      style: __assign({\n        polarLabel: polarLabel\n      }, tickStyle)\n    }, offsetX, offsetY));\n  });\n}\nexport var process = function (chart, config, isUpdate) {\n  if (isUpdate === void 0) {\n    isUpdate = false;\n  }\n  var cAxis = _.cloneDeep(config.axis);\n  var isArr = _.isArray(cAxis);\n  if (_.isNil(cAxis) || cAxis === false || isArr && cAxis.length === 0) {\n    return chart.axis(false);\n  }\n  if (cAxis === true) {\n    return chart.axis();\n  }\n  var arrAxis = isArr ? cAxis : [cAxis];\n  var coord = config.coord,\n    data = config.data;\n  var _loop_1 = function (res) {\n    if (coord && coord.type === 'polar' && coord.direction === 'rotate') {\n      setRotatePolarAxis(chart, res, coord, data);\n    }\n    if (res.label) {\n      res.label = setCustomFormatter.supportD3Formatter(res.label);\n    }\n    if (!isUpdate) {\n      for (var item in res) {\n        if (res.hasOwnProperty(item)) {\n          var name_1 = item === 'tickLine' ? 'ticks' : item;\n          EventUtils.setSEvent(chart, 'axis', name_1, res[item]);\n        }\n      }\n    }\n    if (res.dataKey) {\n      if (res.show === false) {\n        chart.axis(res.dataKey, false);\n      } else {\n        var options = _.omit(res, ['show', 'dataKey']);\n        var label = options.label;\n        if (label && _.isNumber(label.density) && 0 < label.density && label.density < 1 && _.isFunction(label.formatter)) {\n          var gap_1 = Math.floor(1 / label.density);\n          var formatter_1 = label.formatter;\n          options.label.formatter = function (val, item, i) {\n            if (i % gap_1) {\n              return ' ';\n            } else {\n              return formatter_1(val, item, i);\n            }\n          };\n        }\n        chart.axis(res.dataKey, options);\n      }\n    } else {\n      chart.axis(res);\n    }\n  };\n  for (var _i = 0, arrAxis_1 = arrAxis; _i < arrAxis_1.length; _i++) {\n    var res = arrAxis_1[_i];\n    _loop_1(res);\n  }\n  return chart;\n};","map":{"version":3,"mappings":"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","names":["_","EventUtils","setCustomFormatter","setRotatePolarAxis","chart","axisItem","coord","data","polarLabel","get","rotate","tickStyle","startAngle","textAlign","offsetX","offsetY","forEach","res","i","guide","text","position","content","dataKey","style","process","config","isUpdate","cAxis","cloneDeep","axis","isArr","isArray","isNil","length","arrAxis","type","direction","label","supportD3Formatter","item","hasOwnProperty","name_1","setSEvent","show","options","omit","isNumber","density","isFunction","formatter","gap_1","Math","floor","formatter_1","val","arrAxis_1","_i"],"sourceRoot":"","sources":["../../src/components/setAxisConfig.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}