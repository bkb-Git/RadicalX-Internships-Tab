{"ast":null,"code":"import * as _ from 'lodash';\nimport * as EventUtils from '../utils/EventUtils';\nfunction setHighlight(item) {\n  item.onHover = function (ev) {\n    var shapes = ev.shapes;\n    var geom = ev.geom;\n    geom.highlightShapes(shapes);\n  };\n  return item;\n}\nexport var process = function (chart, config, isUpdate) {\n  if (isUpdate === void 0) {\n    isUpdate = false;\n  }\n  var cLegend = _.cloneDeep(config.legend);\n  var isArr = Array.isArray(cLegend);\n  if (_.isNil(cLegend) || cLegend === false || isArr && cLegend.length === 0) {\n    return chart.legend(false);\n  }\n  if (cLegend === true) {\n    return chart.legend();\n  }\n  var arrLegend = isArr ? cLegend : [cLegend];\n  for (var _i = 0, arrLegend_1 = arrLegend; _i < arrLegend_1.length; _i++) {\n    var res = arrLegend_1[_i];\n    if (res.highlight) {\n      res = setHighlight(res);\n    }\n    var _loop_1 = function (item) {\n      if (res.hasOwnProperty(item)) {\n        if (item === 'onClick') {\n          var content_1 = res.onClick;\n          res.onClick = function (ev) {\n            content_1(ev, chart);\n          };\n        }\n        if (!isUpdate) {\n          EventUtils.setSEvent(chart, 'legend', item, res[item]);\n        }\n      }\n    };\n    for (var item in res) {\n      _loop_1(item);\n    }\n    if (!_.isNil(res.legendMarker)) {\n      res['g2-legend-marker'] = res.legendMarker;\n    }\n    if (!_.isNil(res.legendListItem)) {\n      res['g2-legend-list-item'] = res.legendListItem;\n    }\n    if (!_.isNil(res.legendTitle)) {\n      res['g2-legend-title'] = res.legendTitle;\n    }\n    if (!_.isNil(res.legendList)) {\n      res['g2-legend-list'] = res.legendList;\n    }\n    res = _.omit(res, ['legendMarker', 'legendListItem', 'legendTitle', 'legendList']);\n    if (res.dataKey) {\n      if (res.show === false) {\n        chart.legend(res.dataKey, false);\n      } else {\n        var option = _.omit(res, ['dataKey', 'show']);\n        chart.legend(res.dataKey, option);\n      }\n    } else {\n      chart.legend(res);\n    }\n  }\n  return chart;\n};","map":{"version":3,"mappings":"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","names":["_","EventUtils","setHighlight","item","onHover","ev","shapes","geom","highlightShapes","process","chart","config","isUpdate","cLegend","cloneDeep","legend","isArr","Array","isArray","isNil","length","arrLegend","arrLegend_1","_i","res","highlight","hasOwnProperty","content_1","onClick","setSEvent","legendMarker","legendListItem","legendTitle","legendList","omit","dataKey","show","option"],"sourceRoot":"","sources":["../../src/components/setLegendConfig.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}