{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as viser from 'viser';\nvar PluginComponent = function (_super) {\n  __extends(PluginComponent, _super);\n  function PluginComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.config = {};\n    _this.plugins = null;\n    _this.centralizedUpdates = function (unit) {\n      var config = _this.config;\n      var props = unit.props;\n      var displayName = unit.displayName;\n      if (displayName === 'Slider') {\n        var container = props.container;\n        if (!container || !document.getElementById(container)) {\n          props = __assign({}, props, {\n            container: unit.state.containerId\n          });\n        }\n      }\n      _this.combineContentConfig(displayName, props, config);\n      _this.updateSliderInstance(config);\n    };\n    _this.portalRef = function (container) {\n      if (!_this.container) {\n        _this.container = container;\n      }\n    };\n    return _this;\n  }\n  PluginComponent.prototype.getChildContext = function () {\n    return {\n      centralizedUpdates: this.centralizedUpdates\n    };\n  };\n  PluginComponent.prototype.combineContentConfig = function (displayName, props, config) {\n    var nameLowerCase = displayName.toLowerCase();\n    config[nameLowerCase] = props;\n  };\n  PluginComponent.prototype.updateSliderInstance = function (config) {\n    if (!this.plugins) {\n      this.plugins = viser.Plugin(config);\n    }\n    if (this.plugins && this.plugins.slider && config.slider) {\n      this.plugins = viser.Plugin(config);\n    }\n  };\n  PluginComponent.prototype.clearConfigData = function () {\n    this.config = {};\n  };\n  PluginComponent.prototype.render = function () {\n    return React.createElement(\"div\", {\n      ref: this.portalRef\n    }, this.props.children);\n  };\n  PluginComponent.childContextTypes = {\n    centralizedUpdates: PropTypes.func\n  };\n  return PluginComponent;\n}(React.Component);\nexport default PluginComponent;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,SAAS,MAAM,YAAY;AACvC,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,KAAK,MAAM,OAAO;AAE9B;EAA6CC;EAA7C;IAAA;IAMSC,YAAM,GAAQ,EAAE;IAChBA,aAAO,GAAQ,IAAI;IAcnBA,wBAAkB,GAAG,UAACC,IAAS;MACpC,IAAMC,MAAM,GAAGF,KAAI,CAACE,MAAM;MAC1B,IAAIC,KAAK,GAAGF,IAAI,CAACE,KAAK;MACtB,IAAMC,WAAW,GAAGH,IAAI,CAACG,WAAW;MAEpC,IAAIA,WAAW,KAAK,QAAQ,EAAE;QAC5B,IAAMC,SAAS,GAAGF,KAAK,CAACE,SAAS;QACjC,IAAI,CAACA,SAAS,IAAI,CAACC,QAAQ,CAACC,cAAc,CAACF,SAAS,CAAC,EAAE;UACrDF,KAAK,gBACAA,KAAK;YACRE,SAAS,EAAEJ,IAAI,CAACO,KAAK,CAACC;UAAW,EAClC;;;MAILT,KAAI,CAACU,oBAAoB,CACvBN,WAAW,EACXD,KAAK,EACLD,MAAM,CACP;MAEDF,KAAI,CAACW,oBAAoB,CAACT,MAAM,CAAC;IACnC,CAAC;IAgBMF,eAAS,GAAG,UAACK,SAAc;MAChC,IAAI,CAACL,KAAI,CAACK,SAAS,EAAE;QACnBL,KAAI,CAACK,SAAS,GAAGA,SAAS;;IAE9B,CAAC;;EAKH;EA3DSO,yCAAe,GAAtB;IACE,OAAO;MACLC,kBAAkB,EAAE,IAAI,CAACA;KAC1B;EACH,CAAC;EAEMD,8CAAoB,GAA3B,UAA4BR,WAAmB,EAAED,KAAU,EAAED,MAAW;IACtE,IAAMY,aAAa,GAAGV,WAAW,CAACW,WAAW,EAAE;IAE/Cb,MAAM,CAACY,aAAa,CAAC,GAAGX,KAAK;EAC/B,CAAC;EA0BMS,8CAAoB,GAA3B,UAA4BV,MAAW;IACrC,IAAI,CAAC,IAAI,CAACc,OAAO,EAAE;MACjB,IAAI,CAACA,OAAO,GAAGlB,KAAK,CAACmB,MAAM,CAACf,MAAM,CAAC;;IAErC,IAAI,IAAI,CAACc,OAAO,IAAI,IAAI,CAACA,OAAO,CAACE,MAAM,IAAIhB,MAAM,CAACgB,MAAM,EAAE;MACxD,IAAI,CAACF,OAAO,GAAGlB,KAAK,CAACmB,MAAM,CAACf,MAAM,CAAC;;EAGvC,CAAC;EAEMU,yCAAe,GAAtB;IACE,IAAI,CAACV,MAAM,GAAG,EAAE;EAClB,CAAC;EAQMU,gCAAM,GAAb;IACE,OAAOf;MAAKsB,GAAG,EAAE,IAAI,CAACC;IAAS,GAAI,IAAI,CAACjB,KAAK,CAACkB,QAAQ,CAAO;EAC/D,CAAC;EAlEaT,iCAAiB,GAAG;IAChCC,kBAAkB,EAAEjB,SAAS,CAAC0B;GAC/B;EAiEH,sBAAC;CAAA,CApE4CzB,KAAK,CAAC0B,SAAS;eAAvCX,eAAe","names":["PropTypes","React","viser","__extends","_this","unit","config","props","displayName","container","document","getElementById","state","containerId","combineContentConfig","updateSliderInstance","PluginComponent","centralizedUpdates","nameLowerCase","toLowerCase","plugins","Plugin","slider","ref","portalRef","children","func","Component"],"sourceRoot":"","sources":["../../src/plugins/plugin.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}