{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as _ from 'lodash';\nimport * as setAxisConfig from '../components/setAxisConfig';\nimport * as setCoordConfig from '../components/setCoordConfig';\nimport * as setFilterConfig from '../components/setFilterConfig';\nimport * as setGuideConfig from '../components/setGuideConfig';\nimport * as setLegendConfig from '../components/setLegendConfig';\nimport * as setScaleConfig from '../components/setScaleConfig';\nimport * as setSeriesConfig from '../components/setSeriesConfig';\nimport * as setTooltipConfig from '../components/setTooltipConfig';\nimport loadShapes from '../shapes/loadShapes';\nimport * as EventUtils from '../utils/EventUtils';\nvar G2 = require('@antv/g2');\nvar Brush = require('@antv/g2-brush');\nfunction firstUpperCase(str) {\n  return str.toLowerCase().replace(/( |^)[a-z]/g, function (L) {\n    return L.toUpperCase();\n  });\n}\nvar CommonChart = function () {\n  function CommonChart(config) {\n    this.viewInstance = {};\n    this.config = _.cloneDeep(config);\n    this.checkChartConfig(this.config);\n    this.chartInstance = new G2.Chart(this.config.chart);\n  }\n  CommonChart.prototype.getWidth = function () {\n    return this.chartInstance.get('width');\n  };\n  CommonChart.prototype.getHeight = function () {\n    return this.chartInstance.get('height');\n  };\n  CommonChart.prototype.render = function () {\n    var config = this.config;\n    var chart = this.chartInstance;\n    loadShapes();\n    this.setEvents(chart, config);\n    this.setDataSource(chart, config.data);\n    this.setCoord(chart, config);\n    this.setTooltip(chart, config);\n    this.setAxis(chart, config);\n    this.setContent(chart, config);\n    this.setLegend(chart, config);\n    this.setViews(chart, config);\n    this.setFacet(chart, config);\n    chart.render();\n    this.setDefaultTooltip(chart, config);\n    this.setBrush(chart, config);\n  };\n  CommonChart.prototype.repaint = function (config) {\n    var newConfig = _.cloneDeep(config);\n    this.checkChartConfig(newConfig);\n    this.renderDiffConfig(newConfig);\n  };\n  CommonChart.prototype.destroy = function (chart) {\n    if (chart) {\n      chart.destroy();\n    }\n  };\n  CommonChart.prototype.clear = function (chart) {\n    if (chart) {\n      chart.clear();\n    }\n  };\n  CommonChart.prototype.checkChartConfig = function (config) {\n    var chart = config.chart;\n    if (!chart || !chart.height) {\n      throw new Error('please set correct chart option');\n    }\n  };\n  CommonChart.prototype.createView = function (chart, config) {\n    var opts = {};\n    if (config.start) {\n      opts.start = config.start;\n    }\n    if (config.end) {\n      opts.end = config.end;\n    }\n    var view = chart.view(opts);\n    if (!config.viewId) {\n      throw new Error('you must set viewId');\n    }\n    this.viewInstance[config.viewId] = view;\n    return view;\n  };\n  CommonChart.prototype.setEvents = function (chart, config) {\n    EventUtils.setEvent(chart, '', config.chart);\n  };\n  CommonChart.prototype.setDataSource = function (chart, data) {\n    if (!_.isNil(data) && !_.isEmpty(data)) {\n      chart.source(data);\n    }\n  };\n  CommonChart.prototype.setFilter = function (chart, config) {\n    return setFilterConfig.process(chart, config);\n  };\n  CommonChart.prototype.setScale = function (chart, config) {\n    return setScaleConfig.process(chart, config);\n  };\n  CommonChart.prototype.setCoord = function (chart, config) {\n    return setCoordConfig.process(chart, config);\n  };\n  CommonChart.prototype.setSeries = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    return setSeriesConfig.process(chart, config, isUpdate);\n  };\n  CommonChart.prototype.setAxis = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    return setAxisConfig.process(chart, config, isUpdate);\n  };\n  CommonChart.prototype.setTooltip = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    return setTooltipConfig.process(chart, config, isUpdate);\n  };\n  CommonChart.prototype.setDefaultTooltip = function (chart, config) {\n    return setTooltipConfig.setDefaultPoint(chart, config);\n  };\n  CommonChart.prototype.setGuide = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    return setGuideConfig.process(chart, config, isUpdate);\n  };\n  CommonChart.prototype.setLegend = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    return setLegendConfig.process(chart, config, isUpdate);\n  };\n  CommonChart.prototype.setContent = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    this.setScale(chart, config);\n    this.setFilter(chart, config);\n    this.setSeries(chart, config, isUpdate);\n    this.setGuide(chart, config, isUpdate);\n  };\n  CommonChart.prototype.setView = function (item, chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    var view = this.createView(chart, item);\n    var viewData = item.data ? item.data : config.data;\n    this.setDataSource(view, viewData);\n    if (!_.isNil(item.coord)) {\n      this.setCoord(view, item);\n    }\n    if (!_.isNil(item.tooltip)) {\n      this.setTooltip(view, item, isUpdate);\n    }\n    if (!_.isNil(item.axis)) {\n      this.setAxis(view, item, isUpdate);\n    }\n    if (!_.isNil(item.guide)) {\n      this.setGuide(view, item, isUpdate);\n    }\n    this.setContent(view, item, isUpdate);\n    return view;\n  };\n  CommonChart.prototype.setViews = function (chart, config, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    var cViews = _.cloneDeep(config.views);\n    var isArr = Array.isArray(cViews);\n    if (_.isNil(cViews) || _.isEmpty(cViews)) {\n      return;\n    }\n    var arrViews = isArr ? cViews : [cViews];\n    for (var _i = 0, arrViews_1 = arrViews; _i < arrViews_1.length; _i++) {\n      var item = arrViews_1[_i];\n      this.setView(item, chart, config, isUpdate);\n    }\n  };\n  CommonChart.prototype.setFacetViews = function (chart, facet, views, isUpdate) {\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    this.setDataSource(chart, views.data);\n    if (!_.isNil(views.coord)) {\n      this.setCoord(chart, views);\n    }\n    if (!_.isNil(views.tooltip)) {\n      this.setTooltip(chart, views, isUpdate);\n    }\n    if (!_.isNil(views.axis)) {\n      this.setAxis(chart, views, isUpdate);\n    }\n    if (!_.isNil(views.guide)) {\n      this.setGuide(chart, views, isUpdate);\n    }\n    this.setContent(chart, views);\n  };\n  CommonChart.prototype.setFacet = function (chart, config, isUpdate) {\n    var _this = this;\n    if (isUpdate === void 0) {\n      isUpdate = false;\n    }\n    var cFacet = _.cloneDeep(config.facet);\n    if (_.isNil(cFacet) || _.isEmpty(cFacet)) {\n      return;\n    }\n    var options = _.omit(cFacet, ['type', 'views']);\n    if (_.isEmpty(cFacet.views) && !_.isFunction(cFacet.views)) {\n      return chart.facet(cFacet.type, options);\n    }\n    if (_.isFunction(cFacet.views)) {\n      options.eachView = function (v, f) {\n        _this.setFacetViews(v, f, cFacet.views(v, f), isUpdate);\n      };\n    } else {\n      cFacet.views = Array.isArray(cFacet.views) ? cFacet.views : [cFacet.views];\n      options.eachView = function (v, f) {\n        _this.setFacetViews(v, f, cFacet.views[0], isUpdate);\n      };\n    }\n    return chart.facet(cFacet.type, options);\n  };\n  CommonChart.prototype.setBrush = function (chart, config) {\n    if (_.isNil(config.brush) || _.isEmpty(config.brush)) {\n      return;\n    }\n    var brush = config.brush;\n    var brushConfig = __assign({}, config.brush, {\n      canvas: chart.get('canvas'),\n      chart: chart\n    });\n    var regEvents = /on(BrushStart|BrushMove|BrushEnd|DragStart|DragMove|DragEnd)/;\n    var events = Object.keys(brush).filter(function (entry) {\n      return regEvents.test(entry);\n    });\n    events.forEach(function (entry) {\n      var item = regEvents.exec(entry);\n      if (item && item.length) {\n        var oriEventName = 'on' + firstUpperCase(item[0]);\n        brushConfig[oriEventName] = function (ev) {\n          brush[entry](ev, chart);\n        };\n      }\n    });\n    new Brush(brushConfig);\n  };\n  CommonChart.prototype.repaintWidthHeight = function (chart, config) {\n    var width = _.get(config, 'chart.width');\n    if (width) {\n      chart.changeWidth(width);\n    }\n    var height = _.get(config, 'chart.height');\n    if (height) {\n      chart.changeHeight(height);\n    }\n  };\n  CommonChart.prototype.renderDiffConfig = function (config) {\n    var chart = this.chartInstance;\n    this.clear(chart);\n    this.setScale(chart, config);\n    this.setCoord(chart, config);\n    this.setFilter(chart, config);\n    this.setAxis(chart, config, true);\n    this.setSeries(chart, config, true);\n    this.setTooltip(chart, config, true);\n    this.setGuide(chart, config, true);\n    this.setViews(chart, config, true);\n    this.setLegend(chart, config, true);\n    this.setFacet(chart, config, true);\n    this.repaintWidthHeight(chart, config);\n    if (config.data) {\n      chart.changeData(config.data);\n    }\n    chart.repaint();\n    this.setBrush(chart, config);\n  };\n  return CommonChart;\n}();\nexport default CommonChart;","map":{"version":3,"mappings":"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","names":["_","setAxisConfig","setCoordConfig","setFilterConfig","setGuideConfig","setLegendConfig","setScaleConfig","setSeriesConfig","setTooltipConfig","loadShapes","EventUtils","G2","require","Brush","firstUpperCase","str","toLowerCase","replace","L","toUpperCase","config","cloneDeep","checkChartConfig","chartInstance","Chart","chart","CommonChart","get","setEvents","setDataSource","data","setCoord","setTooltip","setAxis","setContent","setLegend","setViews","setFacet","render","setDefaultTooltip","setBrush","newConfig","renderDiffConfig","destroy","clear","height","Error","opts","start","end","view","viewId","viewInstance","setEvent","isNil","isEmpty","source","process","isUpdate","setDefaultPoint","setScale","setFilter","setSeries","setGuide","item","createView","viewData","coord","tooltip","axis","guide","cViews","views","isArr","Array","isArray","arrViews","arrViews_1","_i","setView","facet","cFacet","options","omit","isFunction","type","eachView","v","f","_this","setFacetViews","brush","brushConfig","canvas","regEvents","events","Object","keys","filter","entry","test","forEach","exec","length","oriEventName","ev","width","changeWidth","changeHeight","repaintWidthHeight","changeData","repaint"],"sourceRoot":"","sources":["../../src/core/CommonChart.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}